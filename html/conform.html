<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">

<HEAD>
<TITLE>Конформность: требования и рекомендации</TITLE>
<link rel="stylesheet" href="style/default.css" type="text/css">
<link rel="prev" href="intro.html">
<link rel="next" href="syndata.html">
<link rel="contents" href="cover.html#minitoc">
<link rel="CSS-properties" href="propidx.html" title="properties">
<link rel="index" href="indexlist.html" title="index">
</HEAD>
<BODY>
<div class="navbar" align="center">
<p><a href="intro.html">назад</a> &nbsp;
<a href="syndata.html">далее</a> &nbsp;
<a href="cover.html#minitoc">содержание</a> &nbsp;
<a href="propidx.html">свойства</a> &nbsp;
<a href="indexlist.html">указатель</a> &nbsp;
</div>
<hr class="navbar">

<H1 align="center">3 Конформность: требования и рекомендации</H1>
<div class="subtoc">
<p><strong>Содержание</strong>
  <ul class="toc">
    <li class="tocline2"><a href="conform.html#q1" class="tocxref">3.1 
Определения</a>
    <li class="tocline2"><a href="conform.html#conformance" class="tocxref">3.2 
Конформность</a>
    <li class="tocline2"><a href="conform.html#q3" class="tocxref">3.3 Сбои</a>
    <li class="tocline2"><a href="conform.html#text-css" class="tocxref">3.4 
<span class="index-def" title="text/css">Тип содержимого "text/css"</span></a>
  </ul>
</div>

<H2><a name="q1">3.1 Определения</a></H2>

<p>В данном разделе начинается формальная спецификация CSS2, начиная с соглашения между авторами данного документа, пользователями и разработчиками CSS2.

<P>В этом документе такие ключевые слова как <a name="x0"><span 
class="index-def" title="MUST">"ДОЛЖЕН"</span></a>,
<a name="x1"><span class="index-def" title="MUST NOT">"НЕ ДОЛЖЕН"</span></a>, <a 
name="x2"><span
class="index-def" title="REQUIRED">"ТРЕБУЕТСЯ"</span></a>, <a name="x3"><span
class="index-def" title="SHALL">"НУЖНО"</span></a>, <a name="x4"><span
class="index-def" title="SHALL NOT">"НЕ НУЖНО"</span></a>, <a 
name="x5"><span
class="index-def" title="SHOULD">"СЛЕДУЕТ"</span></a>, <a name="x6"><span
class="index-def" title="SHOULD NOT">"НЕ СЛЕДУЕТ"</span></a>, <a 
name="x7"><span
class="index-def" title="RECOMMENDED">"РЕКОМЕНДУЕТСЯ"</span></a>, <a 
name="x8"><span
class="index-def" title="MAY">"МОЖЕТ БЫТЬ"</span></a> и <a name="x9"><span
class="index-def" title="OPTIONAL">"НЕОБЯЗАТЕЛЬНО"</span></a> интерпретируются 
аналогично тому, как это делается с английскими эквивалентами в стандарте 
RFC&nbsp;2119 (см. <a href="refs.html#ref-RFC2119" rel="biblioentry" 
class="noxref"><span class="normref">[RFC2119]</span></a>).
Из соображений удобства чтения далее при написании этих слов не будут 
использоваться заглавные буквы.

<P>Периодически в данной спецификации будут приводиться полезные рекомендации 
для разработчиков и агентов пользователей. Они не являются 
нормативными, поэтому соответствие данной спецификации не зависит от их 
реализации. В данных рекомендациях используются вводные выражения типа 
"Рекомендуется ...", "Данная спецификация рекомендует ..." и другие аналогичные выражения.
</P>

<dl>
<dt><strong><a name="x10"><span class="index-def" title="style sheet">Таблица 
стилей</span></a></strong>

<dd>Набор выражений, определяющих представление документа.

<P>Таблицы стилей имеют три различных источника происхождения, относящихся к <a
href="#author">разработчику</a>, <a href="#user">пользователю</a> и <a
href="#user-agent">агенту пользователя</a>. Взаимодействие этих трех 
источников описано в разделе о <a href="cascade.html">каскадах и 
наследовании</a>.

<dt><strong><a name="valid-style-sheet">Корректная таблица стилей</a></strong>

<dd><a name="x11"><span class="index-def" title="valid style sheet">Корректность</span></a> таблицы стилей зависит от уровня CSS, 
используемого для ее создания. Так, корректность таблиц стилей, написанных в 
CSS1, не изменится при переходе к CSS2. Но из-за внесения некоторых <a href="changes.html#changes-from-css1">изменений в CSS2</a> появляются различия в 
семантике написания ряда таблиц в CSS1 и CSS2.

<P>Корректная таблица стилей, созданная с помощью CSS2, должна разрабатываться в 
соответствии с <a href="grammar.html">грамматикой CSS2</a>. Более того, она 
должна содержать только те правила at, имена свойств и принимаемые ими значения, 
которые определены в данной спецификации. <a name="x12"><span class="index-def"
title="illegal"><strong>Недопустимое</strong></span></a> правило at, имя 
свойства или его значение являются частным примером некорректности таблицы.

<dt><strong><a name="x13"><span class="index-def" title="source document">Исходный документ</span></a></strong>

<dd>Документ, к которому относятся одна или несколько таблиц стилей. С 
использованием определенной системы кодировки данный документ представляется в 
виде дерева <a href="#element">элементов</a>. Каждый элемент представлен своим 
именем, идентифицирующим его тип; числом его <a href="#attribute">атрибутов</a> 
(это число не является обязательным) и своим, возможно пустым, <a
href="#content">содержимым</a>.</dd>

<dt><strong><span class="index-def" title="document language"><a
name="doclanguage">Язык документа</a></span></strong>

<dd>Система кодировки, используемая для представления исходного документа 
(например, HTML или XML).

<dt><strong><span class="index-def" title="element"><a
name="element">Элемент</a></span></strong>

<dd>(Терм языка SGML, см. <a href="refs.html#ref-ISO8879" 
rel="biblioentry" class="noxref"><span class="normref">[ISO8879]</span></a>.) 
Примитивная синтаксическая конструкция языка документа. 
Большинство правил, используемых в таблицах стилей CSS, используют имена 
элементов (например, "P", "TABLE" или "OL" для HTML) для 
определения информации об их представлении.

<dt><strong><span class="index-def" title="replaced element">
<a name="replaced-element">Заменяемый элемент</a></span></strong>

<dd>Элемент, относительно которого компилятору CSS известна только его 
внутренняя размерность. В HTML примерами заменяемых элементов могут служить элементы IMG, INPUT, TEXTAREA, SELECT и 
OBJECT. Например, содержимое элемента 
IMG часто заменяется изображением, которое задает атрибут "src". В CSS не 
указывается способ определения внутренних размерностей.

<dt><strong><span class="index-def" title="intrinsic dimensions"><a name="intrinsic">Внутренняя размерность</a></span></strong>

<dd>Ширина и высота, определяемые самим элементом, а не его окружением. В CSS2 
предполагается, что все заменяемые элементы и только они имеют внутреннюю 
размерность.

<dt><strong><span class="index-def" title="attribute"><a name="attribute">Атрибут</a></span></strong>

<dd>Значение, связанное с элементом и состоящее из имени и связанного с 
ним (текстового) значения.

<dt><strong><span class="index-def" title="content"><a
name="content">Содержимое</a></span></strong>

<dd>Содержимое, связанное с элементом в исходном документе. Не у всех элементов 
имеется содержимое. Элементы могут быть <strong><a name="x20"><span
class="index-def" title="empty">пустыми</span></a></strong>. В качестве 
содержимого некоторого элемента может выступать текст или множество вложенных 
элементов, относительно которых исходный элемент называется <strong><a name="x21"><span class="index-def" title="parent">родительским</span></a></strong>.

<dt><strong><span class="index-def" title="rendered content|content::rendered"><a name="rendered-content">Генерируемое содержимое</a></span></strong>

<dd>Содержимое элемента, которое было связано с ним в результате 
использования соответствующих таблиц стилей. Генерируемое содержимое <a 
href="#replaced-element">заменяемого элемента</a> поступает не из исходного 
документа. Это может быть дополнительный текст для элемента (например, 
значение атрибута "alt" в HTML) и элементы, явно или неявно привносимые таблицей стилей, например, маркеры, номера и др.

<dt><strong><span class="index-def" title="document tree">
<a name="doctree">Дерево документа</a></span></strong>

<dd>Дерево элементов, закодированное в исходном документе. Каждый элемент в этом 
дереве имеет только один родительский элемент, за исключением 
<strong><span class="index-def" title="root"><a
name="root">корневого</a></span></strong> элемента, у которого его нет.

<dt><strong><a name="x26"><span class="index-def"
title="child">Дочерний элемент</span></a></strong>

<dd>Элемент А называется дочерним по отношению к элементу B, если и только если 
B является родительским элементом элемента А.

<dt><strong><a name="x27"><span class="index-def"
title="descendant">Потомок</span></a></strong>

<dd>Элемент А называется потомком элемента B, если выполняется одно из следующих 
условий:
<dd>(1) А является дочерним элементом элемента B;
<dd>(2) А является дочерним элементом элемента C, который, в свою очередь, 
является потомком B.

<dt><strong><a name="x28"><span class="index-def"
title="ancestor">Предок</span></a></strong>

<dd>Элемент А называется предком элемента B, если и только если B является 
потомком элемента А.

<dt><strong><a name="x29"><span class="index-def"
title="sibling">Сестринский элемент</span></a></strong>

<dd>Элемент А называется сестринским элементом элемента B, если и только если 
элементы А и B являются дочерними элементами одного и того же элемента. Элемент 
А является предшествующим сестринским элементом, если в дереве документа он 
находится перед элементом B. Элемент A является следующим сестринским элементом, 
если в дереве документа он находится после элемента B.

<dt><strong><span class="index-def" title="preceding element|element::preceding"><a name="preceding">Предшествующий элемент</a></span></strong>

<dd>Элемент А называется предшествующим элементу B, если и только если (1) А 
является предком B или (2) А является предшествующим сестринским элементом 
элемента B.

<dt><strong><a name="x32"><span class="index-def" title="following element|element::following">Cледующий элемент</span></a></strong>

<dd>Элемент А называется следующим за элементом B, если и только если B 
предшествует элементу А.

<dt><strong><strong><a name="author">Разработчик</a></strong></strong>
<dd>Разработчик - это человек, создающий документы и связанные с ними 
таблицы стилей. Документы и ассоциированные с ними таблицы стилей генерируются <a name="x34"><span class="index-def" title="authoring tool"><strong>средством разработки</strong></span></a>.</dd>

<dt><strong><strong><a name="user">Пользователь</a></strong></strong> 
<dd>Пользователь - это человек, взаимодействующий с агентом пользователя с 
целью просмотра, прослушивания или другого использования документа и 
связанных с ним таблиц стилей. Пользователь может создать персональную 
таблицу стилей, в которой будут закодированы персональные настройки.
</dd>

<dt><strong><strong><a name="user-agent">Агент пользователя
</a></strong></strong>
<dd><a name="x35"><span class="index-def" title="user agent|UA">Агент пользователя</span></a> - это произвольная программа, которая 
интерпретирует документ, написанный на некотором языке структуризации, и применяет связанные с ним таблицы стилей в соответствии с правилами данной спецификации. Агент пользователя может выводить документ на экран, осуществлять его звуковое воспроизведение, выводить на печать, конвертировать в другой формат и т.д.</dd>
</dl>

<div class="html-example">
<p>Ниже приводится пример исходного документа на языке HTML:

<PRE>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;   
  &lt;TITLE&gt;Моя домашняя страница&lt;/TITLE&gt;
  &lt;BODY&gt;
    &lt;H1&gt; Моя домашняя страница;/H1&gt;
    &lt;P&gt;Добро пожаловать на мою домашнюю страницу! Позвольте рассказать вам 
о моих любимых композиторах:
    &lt;UL&gt;
      &lt;LI&gt;Элвис Костелло
      &lt;LI&gt;Иоган Брамс
      &lt;LI&gt;Джорж Брассенс
    &lt;/UL&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>В результате получается следующее дерево:</P>

<div class="figure">
<P><IMG src="images/doctree.gif" alt="Пример дерева документа"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-doctree" href="images/longdesc/doctree-desc.html" title="Длинное описание примера диаграммы дерева документа">[D]</A></SPAN></p>
</div>

<P>В соответствии с определением языка HTML элементы типа HEAD будут определены 
во время синтаксического анализа автоматически и станут частью дерева документа, 
если даже теги &lt;HEAD&gt; отсутствуют в исходном документе. Аналогичным образом программа синтаксического анализа определит, где заканчиваются элементы P и LI, даже если теги &lt;/P&gt; и &lt;/LI&gt; отсутствуют в исходном документе.
</div>


<h2>3.2 <a name="conformance">Конформность</a></h2>

<P>В данном разделе вводится понятие <a name="x37"><span class="index-def" 
title="conformance">конформности</span></a>, или соответствия спецификации CSS2. 
При этом не исключается возможность, что в будущем появятся другие уровни CSS, 
Для соответствия спецификации которых от агентов пользователей потребуется реализации уже другого семейства функций.

<P>Вообще говоря, для конформности агент пользователя должен удовлетворять следующим условиям:</P>

<ol>
<li>Он должен поддерживать один или несколько <a href="media.html">типов 
устройств</a>, определенных в описании CSS2.
<li>Для каждого типа документа он должен предпринимать попытки загрузки всех таблиц стилей, 
связанных с исходным документом и соответствующих поддерживаемым им типам устройств. Если ему не удается это сделать (например, по причине сбоев в сети), 
то он должен отображать документ с помощью доступных ему таблиц.
<li>Он должен осуществлять синтаксический анализ таблицы стилей в соответствии с 
данной спецификацией. В частности, он должен распознавать все правила at, структурные блоки, объявления и селекторы (см. раздел <a 
href="grammar.html">"Грамматика CSS2" </a>). Если он обнаруживает некоторое свойство, применяемое к одному из поддерживаемых типов устройств, то он должен проанализировать значение свойства в соответствии с его описанием. Это означает, что агент пользователя должен принимать все допустимые значения и <a name="x38"><span class="index-inst" title="ignore">игнорировать</span></a> объявления с недопустимыми значениями. Агенты пользователей должны <a name="x39"><span class="index-inst" title="ignore">игнорировать</span></a> правила, которые применяются к неподдерживаемым <a href="media.html">типам устройств</a>.

<li>Всем свойствам всех элементов <a href="#doctree">дерева 
документа</a> агент пользователя должен присвоить значение в соответствии с 
определением свойства и правилами <a href="cascade.html">каскада и 
наследования</a>.

<li>Если к исходному документу прилагаются альтернативные таблицы стилей 
(например, с ключевым словом "alternate" в HTML 4.0 <a 
href="refs.html#ref-HTML40" rel="biblioentry" class="noxref"><span 
class="informref">[HTML40]</span></a>), то агент должен 
предоставить пользователю возможность выбора одной из этих таблиц стилей и ее 
применения.
</ol>

<P>Не каждый пользовательский агент должен удовлетворять всем этим условиям сразу, 
однако:</p>

<ul>
<li>Агент пользователя, который <em>применяет</em> таблицы стилей, должен
удовлетворять требованиям 1 - 3.

<li>Средство разработки необходимо только для вывода <a href="#valid-style-sheet">корректной таблицы стилей</a>.

<li>Агент пользователя, который <em>представляет</em> документ 
с использованием связанной с ним таблицы стилей, должен удовлетворять условиям 1 - 5 и 
представлять данный документ в соответствии с техническими требованиями, 
рассматриваемыми далее в этом описании. При необходимости
<a href="cascade.html#actual-value">значения</a> могут представляться
приблизительно.
</ul>

<P>Ограничения, накладываемые используемым устройством на возможности 
агента пользователя (например, агент не может отобразить 
цвета на черно-белом мониторе или на печатной странице), отнюдь не означают того, что агент не 
соответствует данной спецификации. </P>

<p>Рекомендуется, чтобы агенты пользователей позволяли им определять 
свои таблицы стилей.


<h2><a name="q3">3.3 Сбои</a></h2>

<P>Вообще говоря, в данном документе не определяются способы обработки ошибок агентом пользователя (например, действия агентов в случае, если им не удается обнаружить ресурс, обозначенный в URI).

<P>Тем не менее, агенты пользователей должны соблюдать некоторые 
<a href="syndata.html#parsing-errors">правила обработки ошибок, обнаруживаемых на этапе синтаксического анализа</a>.

<P>Так как пользовательские агенты могут по-разному обрабатывать сбои, 
разработчикам и пользователям не следует рассчитывать на какие-то конкретные действия при исправлении ошибок.


<H2>3.4 <span class="index-def" title="text/css"><a
name="text-css">Тип содержимого "text/css"</a></span></H2>

<p>Таблицы стилей CSS, представленные в виде отдельных файлов, отправляются 
через Интернет в виде последовательности байтов, сопровождаемой информацией о 
кодировке (см. <a href="refs.html#ref-HTML40" rel="biblioentry" 
class="noxref"><span class="normref">[HTML40]</span></a>, глава 5). Структура 
передачи, называемая <span class="index-def" title="message entity"><a
name="message-entity"><strong>массивом сообщения</strong></a></span>, 
определяется в соответствии со стандартами RFC 2045 и RFC 2068 (см. <a 
href="refs.html#ref-RFC2045" rel="biblioentry" class="noxref"><span 
class="normref">[RFC2045]</span></a> и <a href="refs.html#ref-RFC2068" 
rel="biblioentry" class="noxref"><span class="normref">[RFC2068]</span></a>). 
Массив сообщения с типом содержимого "text/css" представляет собой отдельный 
документ CSS. Тип содержимого "text/css" зарегистрирован в стандарте RFC 2138 
(<a href="refs.html#ref-2318" rel="biblioentry" class="noxref"><span 
class="normref">[RFC2318]</span></a>).

<hr class="navbar">

<div class="navbar" align="center">
<p><a href="intro.html">назад</a> &nbsp;
<a href="syndata.html">далее</a> &nbsp;
<a href="cover.html#minitoc">содержание</a> &nbsp;
<a href="propidx.html">свойства</a> &nbsp;
<a href="indexlist.html">указатель</a> &nbsp;
</div>
</BODY>
</html>


