<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">

<HEAD>
<TITLE>Цвета и оформление фона</TITLE>
<link rel="stylesheet" href="style/default.css" type="text/css">
<link rel="prev" href="page.html">
<link rel="next" href="fonts.html">
<link rel="contents" href="cover.html#minitoc">
<link rel="CSS-properties" href="propidx.html" title="properties">
<link rel="index" href="indexlist.html" title="index">
</HEAD>
<BODY>
<div class="navbar" align="center">
<p><a href="page.html">назад</a> &nbsp;
<a href="fonts.html">далее</a> &nbsp;
<a href="cover.html#minitoc">содержание</a> &nbsp;
<a href="propidx.html">свойства</a> &nbsp;
<a href="indexlist.html">указатель</a> &nbsp;
</div>
<hr class="navbar">

<H1 align="center">14 Цвета и фон</H1>
<div class="subtoc">
<p><strong>Содержание</strong>
  <ul class="toc">
    <li class="tocline2"><a href="colors.html#colors" class="tocxref">14.1 Цвета переднего плана: свойство <span class="propinst-color">'color'</span></a>
    <li class="tocline2"><a href="colors.html#q2" class="tocxref">14.2 Фон</a>
    <ul class="toc">
      <li class="tocline3"><a href="colors.html#background-properties" class="tocxref">14.2.1 Свойства фона: <span class="propinst-background-color">'background-color'</span>, <span class="propinst-background-image">'background-image'</span>, <span class="propinst-background-repeat">'background-repeat'</span>, <span class="propinst-background-attachment">'background-attachment'</span>, <span class="propinst-background-position">'background-position'</span> и <span class="propinst-background">'background'</span></a>
    </ul>
    <li class="tocline2"><a href="colors.html#gamma-correction" class="tocxref">14.3 Гамма-коррекция</a>
  </ul>
</div>

<P>Свойства CSS позволяют авторам управлять цветами переднего плана и фоном элемента. Оформление фона может осуществляться с использованием цветовой палитры или графических объектов. С использованием свойств фона разработчики могут размещать, дублировать фоновое изображение, а также определять, будет ли оно фиксировано относительно <a href="visuren.html#viewport">окна просмотра</a> или будет перемещаться вместе с документом в процессе его прокрутки.

<P>Информацию о синтаксисе корректных значений цветов можно найти в разделе о <a href="./syndata.html#color-units">цветах</a>.

<H2>14.1 <a name="colors">Цвета переднего плана</a>: свойство <a href="colors.html#propdef-color" class="noxref"><span class="propinst-color">'color'</span></a> </H2>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'color'"><a name="propdef-color" class="propdef-title"><strong>'color'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-color" class="noxref"><span class="value-inst-color">&lt;цвет&gt;</span></a> | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>зависит от агента пользователя
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>да
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Это свойство описывает цвет переднего плана текстового содержимого элемента. Например, существует несколько способов задания красного цвета:

<div class="example"><P style="display:none">Пример(ы):</P><P>
<PRE>
EM { color: red }              /* стандартное название цвета */
EM { color: rgb(255,0,0) }     /* значение системы RGB из диапазона 0-255 */
</PRE>
</div>

<H2><a name="q2">14.2 Фон</a></H2>

<P>В качестве фона элемента (например, поверхности, на которой он будет отображен) разработчики могут задавать либо цвет, либо изображение. В терминах <a href="box.html#box-model">модели представления документа в виде блоков</a> понятие "фон" относится к фону областей, отведенных для <a href="box.html#box-content-area">содержимого</a> и <a href="box.html#box-padding-area">отступов</a>. Стиль и цвет границ при этом устанавливаются с помощью <a href="box.html#border-properties">свойств границ</a>. Поля всегда прозрачны, так что сквозь них всегда виден фон родительского блока.

<P>Свойства фона не наследуются, но фон родительского блока всегда будет виден, т.к. по умолчанию в качестве начального значения свойства <a href="colors.html#propdef-background-color" class="noxref"><span class="propinst-background-color">'background-color'</span></a> выступает значение 'transparent'.

<P>Фон блока, порождаемого корневым элементом, покрывает всю <a href="intro.html#canvas">область представления</a>.

<P>Разработчикам HTML-документов рекомендуется задавать фон для элемента BODY, а не для элемента HTML. Агенты пользователей при оформлении фона должны придерживаться следующей иерархии приоритетов: если значение свойства <a href="colors.html#propdef-background" class="noxref"><span class="propinst-background">'background'</span></a> элемента HTML отлично от 'transparent', то следует использовать его. В противном случае следует использовать значение свойства <a href="colors.html#propdef-background" class="noxref"><span class="propinst-background">'background'</span></a> элемента BODY. Если в результате получится значение 'transparent', то отображаемый фон окажется неопределенным.

<div class="html-example"><P>
В соответствии с этими правилами область представления, лежащая в основе следующего HTML-документа, будет иметь "мраморный" фон:

<PRE>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"&gt;
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Установка фона области представления&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
       BODY { background: url("http://style.com/marble.png") }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;Я использую мраморный фон.
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>
</div>


<H3>14.2.1 <a name="background-properties">Свойства фона</a>: <a href="colors.html#propdef-background-color" class="noxref"><span
class="propinst-background-color">'background-color'</span></a>, <a href="colors.html#propdef-background-image" class="noxref"><span
class="propinst-background-image">'background-image'</span></a>, <a href="colors.html#propdef-background-repeat" class="noxref"><span
class="propinst-background-repeat">'background-repeat'</span></a>, <a href="colors.html#propdef-background-attachment" class="noxref"><span
class="propinst-background-attachment">'background-attachment'</span></a>,
<a href="colors.html#propdef-background-position" class="noxref"><span
class="propinst-background-position">'background-position'</span></a> и 
<a href="colors.html#propdef-background" class="noxref"><span class="propinst-background">'background'</span></a>
</H3>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'background-color'"><a name="propdef-background-color" class="propdef-title"><strong>'background-color'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-color" class="noxref"><span class="value-inst-color">&lt;цвет&gt;</span></a> | transparent | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>transparent
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Это свойство устанавливает цвет фона элемента равным <span class="index-inst" title="&lt;color&gt;"><a name="x2" href="syndata.html#value-def-color" class="noxref"><span class="value-inst-color">&lt;цвет&gt;</span></a></span> или ключевому слову 'transparent', благодаря которому все цвета, лежащие под элементом, становятся видными.

<div class="example"><P style="display:none">Пример(ы):</P><P>
<PRE>
H1 { background-color: #F00 }
</PRE>
</div>


<div class="propdef">
<dl><dt>
<span class="index-def" title="'background-image'"><a name="propdef-background-image" class="propdef-title"><strong>'background-image'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td><a href="syndata.html#value-def-uri" class="noxref"><span class="value-inst-uri">&lt;uri&gt;</span></a> | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>none
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Это свойство задает графический объект в качестве фона элемента. При определении фонового изображения авторам следует также указать цвет фона, который будет использоваться, если изображение недоступно. Если изображение доступно, то оно отображается поверх фонового цвета (который будет виден только сквозь прозрачные фрагменты изображения).

<P>В качестве значения этого свойства может выступать <span class="index-inst" title="&lt;uri&gt;"><a name="x4" href="syndata.html#value-def-uri" class="noxref"><span class="value-inst-uri">&lt;uri&gt;</span></a></span> графического объекта либо значение 'none', если изображение не используется.

<div class="example"><P style="display:none">Пример(ы):</P><P>
<PRE>
BODY { background-image: url("marble.gif") }
P { background-image: none }
</PRE>
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'background-repeat'"><a name="propdef-background-repeat" class="propdef-title"><strong>'background-repeat'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td>repeat | repeat-x | repeat-y | no-repeat | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>repeat
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Если задано фоновое изображение, то данное свойство определяет, будет ли оно дублироваться (в виде мозаики) и каким образом это будет осуществляться. Мозаика покрывает области, отведенные в блоке для <a href="box.html#box-content-area">содержимого</a> и <a href="box.html#box-padding-area">отступов</a>.
Значения данного свойства имеют следующий смысл:</p>

<dl>
<dt><strong>repeat</strong>
<dd>Изображение дублируется в вертикальной и горизонтальной плоскостях.
<dt><strong>repeat-x</strong>
<dd>Изображение дублируется только в горизонтальной плоскости.
<dt><strong>repeat-y</strong>
<dd>Изображение дублируется только в вертикальной плоскости.
<dt><strong>no-repeat</strong>
<dd>Изображение не дублируется: отображается только одна копия изображения.
</dl>

<div class="example"><P style="display:none">Пример(ы):</P><P>
<PRE>
BODY { 
  background: white url("pendant.gif");
  background-repeat: repeat-y;
  background-position: center;
}
</PRE>
<div class="figure">
<p><img src="images/bg-repeat.gif" alt="Фоновое изображение центрировано. Повторяется сверху вниз в областях содержимого и отступов"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-bg-repeat" href="images/longdesc/bg-repeat-desc.html" title="Длинное описание примера фонового оформления">[D]</A></SPAN>

<p class="caption">Одна копия фонового изображения расположена по центру, а другие копии располагаются сверху вниз, формируя тем самым вертикальную полосу позади элемента.
</div>
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'background-attachment'"><a name="propdef-background-attachment" class="propdef-title"><strong>'background-attachment'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td>scroll | fixed | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>scroll
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Если задано фоновое изображение, то данное свойство определяет, будет ли оно фиксироваться относительно <a href="visuren.html#viewport">окна просмотра</a> (значение 'fixed') или будет перемещаться вместе с документом (значение 'scroll') в процессе его прокрутки.

<p>Даже в случае фиксации изображения оно остается видимым только тогда, когда находится в области, предназначенной для оформления фона или отступов элемента. Поэтому изображение может оставаться невидимым до тех пор, пока его копии не будут расположены мозаикой ('background-repeat: repeat').

<div class="example"><P style="display:none">Пример(ы):</P><P>В следующем примере формируется бесконечная вертикальная полоса, которая остается "приклеенной" к окну просмотра во время прокрутки элемента.
<PRE>
BODY { 
  background: red url("pendant.gif");
  background-repeat: repeat-y;
  background-attachment: fixed;
}
</PRE>
</div>

<P>Агенты пользователей могут интерпретировать значение 'fixed' как 'scroll'. Однако рекомендуется, чтобы значение 'fixed' все же интерпретировалось корректно, по крайней мере, для элементов HTML и BODY, т.к. у авторов не существует возможности предоставления изображения только для тех браузеров, которые поддерживают значение 'fixed'. Дополнительную информацию можно получить в разделе, посвященном <a href="conform.html#conformance">конформности</a>.

<div class="propdef">
<dl><dt>
<span class="index-def" title="'background-position'"><a name="propdef-background-position" class="propdef-title"><strong>'background-position'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td>[ [<a href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage">&lt;проценты&gt;</span></a> | <a href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length">&lt;длина&gt;</span></a> ]{1,2} | 
[ [top | center | bottom] || [left | center | right] ] ] | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>0% 0%
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>элементы структурного уровня и замещаемые элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td> относительно размеров самого блока
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P>Если задано фоновое изображение, то данное свойство определяет его начальное положение. Значения имеют следующий смысл:</p>

<dl>
<dt><span class="index-inst" title="&lt;percentage&gt;"><a name="x8" href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage"><strong>&lt;проценты&gt;</strong></span></a></span> <span class="index-inst" title="&lt;percentage&gt;"><a name="x9" href="syndata.html#value-def-percentage" class="noxref"><span class="value-inst-percentage"><strong>&lt;проценты&gt;</strong></span></a></span>

<dd>Если используется пара значений '0% 0%', то верхний левый угол изображения выравнивается относительно верхнего левого угла <a href="box.html#padding-edge">краевой линии отступов</a> блока. Если задана пара значений '100% 100%', то нижний правый угол изображения помещается в нижний правый угол краевой линии отступов. Если задана пара значений '14% 84%', то точка, смещенная вдоль изображения на 14% вправо по горизонтали и на 84% вниз по вертикали помещается в точку, смещенную вдоль области, предназначенной для отступов, на 14% вправо по горизонтали и на 84% вниз по вертикали.

<dt><span class="index-inst" title="&lt;length&gt;"><a name="x10" href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length"><strong>&lt;длина&gt;</strong></span></a></span> <span class="index-inst" title="&lt;length&gt;"><a name="x11" href="syndata.html#value-def-length" class="noxref"><span class="value-inst-length"><strong>&lt;длина&gt;</strong></span></a></span>

<dd>Если задана пара '2cm 2cm', то верхний левый угол изображения помещается на 2 см правее и 2 см ниже верхнего левого угла области, предназначенной для отступов.
<dt>
<dt><strong>top left</strong> и <strong>left top</strong>
<dd>Аналогично значению '0% 0%'.
<dt><strong>top</strong>, <strong>top center</strong> и <strong>center top</strong>
<dd>Аналогично значению '50% 0%'.
<dt><strong>right top</strong> и <strong>top right</strong>
<dd>Аналогично значению '100% 0%'.
<dt><strong>left</strong>, <strong>left center</strong> и <strong>center left</strong>
<dd>Аналогично значению '0% 50%'.
<dt><strong>center</strong> и <strong>center center</strong>
<dd>Аналогично значению '50% 50%'.
<dt><strong>right</strong>, <strong>right center</strong> и <strong>center right</strong>
<dd>Аналогично значению '100% 50%'.
<dt><strong>bottom left</strong> и <strong>left bottom</strong>
<dd>Аналогично значению '0% 100%'.
<dt><strong>bottom</strong>, <strong>bottom center</strong> и <strong>center bottom</strong>
<dd>Аналогично значению '50% 100%'.
<dt><strong>bottom right</strong> и <strong>right bottom</strong>
<dd>Аналогично значению '100% 100%'.
</dl>

<P>Если задано только одно значение длины или одно процентное соотношение, то оно определяет позицию только по горизонтали, а позиция по вертикали определяется, исходя из значения 50%. Если задано два значения, то первой указывается позиция по горизонтали. Допускается сочетание значений длины и процентных соотношений (например, '50% 2cm'). Также допускается использование отрицательных значений. Ключевые слова не могут использоваться вместе со значениями длины или процентными соотношениями (все возможные варианты представлены выше).

<div class="example"><P style="display:none">Пример(ы):</P><P>

<PRE>
BODY { background: url("banner.jpeg") right top }    /* 100%   0% */
BODY { background: url("banner.jpeg") top center }   /*  50%   0% */
BODY { background: url("banner.jpeg") center }       /*  50%  50% */
BODY { background: url("banner.jpeg") bottom }       /*  50% 100% */
</PRE>
</div>

<P> Если фоновое изображение фиксировано в окне просмотра (см. свойство <a href="colors.html#propdef-background-attachment" class="noxref"><span class="propinst-background-attachment">'background-attachment'</span></a>), то оно размещается относительно окна просмотра, а не относительно области элемента, предназначенной для отступов. Например,

<div class="example"><P style="display:none">Пример(ы):</P><P>
<PRE>
BODY { 
  background-image: url("logo.png");
  background-attachment: fixed;
  background-position: 100% 100%;
  background-repeat: no-repeat;
} 
</PRE>

<P>В представленном выше примере изображение (одиночное) помещается в нижнем правом углу окна просмотра.
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'background'"><a name="propdef-background" class="propdef-title"><strong>'background'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>Значение:</em>&nbsp;&nbsp;<td>[<a href="colors.html#propdef-background-color" class="noxref"><span class="propinst-background-color">&lt;'background-color'&gt;</span></a> || <a href="colors.html#propdef-background-image" class="noxref"><span class="propinst-background-image">&lt;'background-image'&gt;</span></a> || <a href="colors.html#propdef-background-repeat" class="noxref"><span class="propinst-background-repeat">&lt;'background-repeat'&gt;</span></a>
|| <a href="colors.html#propdef-background-attachment" class="noxref"><span class="propinst-background-attachment">&lt;'background-attachment'&gt;</span></a> || <a href="colors.html#propdef-background-position" class="noxref"><span class="propinst-background-position">&lt;'background-position'&gt;</span></a>] | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">наследуемое</span></a>
<tr valign=baseline><td><em>Начальное значение:</em>&nbsp;&nbsp;<td>не определено для свойств стенографического типа
<tr valign=baseline><td><em>Область применения:</em>&nbsp;&nbsp;<td>все элементы
<tr valign=baseline><td><em>Наследование:</em>&nbsp;&nbsp;<td>нет
<tr valign=baseline><td><em>Процентное задание:</em>&nbsp;&nbsp;<td>допускается в свойстве 'background-position'
<tr valign=baseline><td><em>Устройства:</em>&nbsp;&nbsp;<td><a href="media.html#visual-media-group" class="noxref">визуального форматирования</a>
</table>
</dl>
</div>


<P> Свойство <a href="colors.html#propdef-background" class="noxref"><span class="propinst-background">'background'</span></a> является свойством стенографического типа, используемым для определения отдельных свойств фона (<a href="colors.html#propdef-background-color" class="noxref"><span class="propinst-background-color">'background-color'</span></a>, <a href="colors.html#propdef-background-image" class="noxref"><span class="propinst-background-image">'background-image'</span></a>, <a href="colors.html#propdef-background-repeat" class="noxref"><span class="propinst-background-repeat">'background-repeat'</span></a>, <a href="colors.html#propdef-background-attachment" class="noxref"><span class="propinst-background-attachment">'background-attachment'</span></a> и <a href="colors.html#propdef-background-position" class="noxref"><span class="propinst-background-position">'background-position'</span></a>) одновременно.

<P>Сначала свойство <a href="colors.html#propdef-background" class="noxref"><span class="propinst-background">'background'</span></a> устанавливает всем отдельным свойствам фона их начальные значения, а затем явно назначает им те значения, которые были заданы в объявлении.

<div class="example"><P style="display:none">Пример(ы):</P><P> 
В первом правиле следующего примера было задано значение только для свойства <a href="colors.html#propdef-background-color" class="noxref"><span class="propinst-background-color">'background-color'</span></a>, в то время как всем остальным свойствам были присвоены их начальные значения. Во втором правиле явно заданы значения всех отдельных свойств.

<PRE>
BODY { background: red }
P { background: url("chess.png") gray 50% repeat fixed }
</PRE>
</div>

<H2>14.3 <a name="gamma-correction">Гамма-коррекция</a></H2>

<P><em>Информацию о цветовой гамме можно найти в учебнике под названием "Gamma Tutorial" в спецификации PNG (<a href="refs.html#ref-PNG10" rel="biblioentry" class="noxref"><span class="normref">[PNG10]</span></a>).</em></P>

<P>При вычислении гамма-коррекции агенты пользователей, осуществляющие отображение на дисплеях с ЭЛТ, могут предполагать идеальность используемой ЭЛТ и игнорировать все эффекты, имеющие место в текущей цветовой гамме из-за внесенных в нее возмущений. Поэтому на имеющихся в данный момент платформах минимум, что им следует сделать:
  <DL>
    <DT>ПК с системой MS-Windows
    <DD>ничего не требуется
    <DT>Unix с использованием X11
    <DD>ничего не требуется
    <DT>Mac с использованием QuickDraw
    <DD>применить цветовую гамму 1.45 <a href="refs.html#ref-ICC32" rel="biblioentry" class="noxref"><span class="normref">[ICC32]</span></a> (приложения, осуществляющие автономную синхронизацию цветов, могут просто передать профиль sRGB ICC в модуль синхронизации цветов для выполнения корректной настройки цветовой гаммы)
    <DT>SGI с использованием X
    <DD>применить цветовую гамму из <TT>/etc/config/system.glGammaVal</TT> (по умолчанию используется значение 1.70; приложения, работающие на Irix версии 6.2 и выше, могут просто передать профиль sRGB ICC в систему управления цветовой гаммой)
    <DT>NeXT с NeXTStep
    <DD>применить цветовую гамму 2.22
  </DL>

<P>Фраза "применить цветовую гамму" означает, что каждой из трех составляющих R, G и B перед тем, как она будет передана операционной системе, должно быть присвоено значение R'=R<SUP>gamma</SUP>, G'=G<SUP>gamma</SUP>, B'=B<SUP>gamma</SUP>.

<P>Это можно быстро сделать, осуществив однократное построение 256-элементной таблицы поиска в момент инициализации браузера:

<PRE>
for i := 0 to 255 do
  raw := i / 255.0;
  corr := pow (raw, gamma);
  table[i] := trunc (0.5 + corr * 255.0)
end
</PRE>

<P>Это позволит сократить количество абстрактных математических расчетов, приходящихся на один атрибут цвета, и еще больше сократить их при вычислении одного пиксела.

<hr class="navbar">

<div class="navbar" align="center">
<p><a href="page.html">назад</a> &nbsp;
<a href="fonts.html">далее</a> &nbsp;
<a href="cover.html#minitoc">содержание</a> &nbsp;
<a href="propidx.html">свойства</a> &nbsp;
<a href="indexlist.html">указатель</a> &nbsp;
</div>
</BODY>
</HTML>
